<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code 載入動畫元件 - 展示頁面</title>
    <link rel="stylesheet" href="claude-loader.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #1e293b;
            line-height: 1.6;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .demo-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .demo-title {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .demo-subtitle {
            font-size: 1.2rem;
            color: #64748b;
            margin-bottom: 30px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .demo-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
            transition: all 0.3s ease;
        }

        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(31, 38, 135, 0.2);
        }

        .demo-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 15px;
        }

        .demo-card p {
            color: #64748b;
            margin-bottom: 20px;
        }

        .demo-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 10px;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .demo-button.secondary {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        }

        .demo-button.matrix {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.9rem;
            margin: 20px 0;
            overflow-x: auto;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .advanced-section {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .advanced-title {
            font-size: 2rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 30px;
            text-align: center;
        }

        .demo-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 30px 0;
        }

        .demo-controls button {
            min-width: 120px;
        }

        .test-section {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .test-button {
            background: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .test-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        @media (max-width: 768px) {
            .demo-title {
                font-size: 2rem;
            }
            
            .demo-grid {
                grid-template-columns: 1fr;
            }
            
            .demo-controls {
                flex-direction: column;
            }
            
            .test-grid {
                grid-template-columns: 1fr;
            }
        }

        .status-message {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: 500;
        }

        .status-success {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .status-info {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <!-- 標題區域 -->
        <div class="demo-header">
            <h1 class="demo-title">Claude Code 載入動畫元件</h1>
            <p class="demo-subtitle">美觀、流暢、可自定義的 AI 風格載入動畫</p>
            
            <div class="feature-list">
                <div class="feature-item">
                    <div class="feature-icon">🎨</div>
                    <div>
                        <h4>多重主題</h4>
                        <p>預設、深色、矩陣三種風格</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">🤖</div>
                    <div>
                        <h4>AI 機器人</h4>
                        <p>可愛的彈跳和眨眼動畫</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">💻</div>
                    <div>
                        <h4>程式碼粒子</h4>
                        <p>動態的代碼片段效果</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">📱</div>
                    <div>
                        <h4>響應式設計</h4>
                        <p>完美適配各種螢幕</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 基本展示 -->
        <div class="demo-grid">
            <div class="demo-card">
                <h3>🌟 預設主題</h3>
                <p>經典的橙色配色，液態玻璃效果，適合一般商業應用。</p>
                <button class="demo-button" onclick="showDefaultLoader()">
                    展示預設主題
                </button>
            </div>

            <div class="demo-card">
                <h3>🌙 深色主題</h3>
                <p>藍紫色配色，現代科技感，適合專業開發工具。</p>
                <button class="demo-button secondary" onclick="showDarkLoader()">
                    展示深色主題
                </button>
            </div>

            <div class="demo-card">
                <h3>🔮 矩陣主題</h3>
                <p>綠色螢光配色，駭客風格，適合技術展示場景。</p>
                <button class="demo-button matrix" onclick="showMatrixLoader()">
                    展示矩陣主題
                </button>
            </div>
        </div>

        <!-- 進階展示 -->
        <div class="advanced-section">
            <h2 class="advanced-title">🚀 進階功能展示</h2>
            
            <div class="demo-controls">
                <button class="demo-button" onclick="showCustomMessages()">
                    自定義訊息
                </button>
                <button class="demo-button secondary" onclick="showManualControl()">
                    手動控制
                </button>
                <button class="demo-button matrix" onclick="showApiSimulation()">
                    API 載入模擬
                </button>
                <button class="demo-button" onclick="showFileUpload()">
                    檔案上傳模擬
                </button>
            </div>

            <div id="statusMessage" class="status-message status-info" style="display: none;">
                點擊上方按鈕查看不同的載入動畫效果
            </div>
        </div>

        <!-- 測試區域 -->
        <div class="test-section">
            <h3>🧪 響應式測試</h3>
            <p>測試載入動畫在不同螢幕尺寸下的顯示效果。請調整瀏覽器視窗大小或使用開發者工具測試。</p>
            
            <div class="test-grid">
                <button class="test-button" onclick="testMobileView()">手機檢視測試</button>
                <button class="test-button" onclick="testTabletView()">平板檢視測試</button>
                <button class="test-button" onclick="testDesktopView()">桌面檢視測試</button>
                <button class="test-button" onclick="testReducedMotion()">無障礙模式測試</button>
            </div>
        </div>

        <!-- 程式碼範例 -->
        <div class="advanced-section">
            <h2 class="advanced-title">💻 程式碼範例</h2>
            
            <h3>基本使用</h3>
            <div class="code-example">
// 最簡單的使用方式
const loader = showClaudeLoader();

// 3 秒後自動完成
setTimeout(() => {
    loader.finish();
}, 3000);
            </div>

            <h3>自定義配置</h3>
            <div class="code-example">
const loader = createClaudeLoader({
    theme: 'dark',           // 使用深色主題
    duration: 5000,          // 5 秒載入時間
    messages: [              // 自定義載入訊息
        "正在初始化系統...",
        "正在載入資料...",
        "即將完成..."
    ],
    onComplete: () => {       // 完成回調
        console.log('載入完成！');
        showNotification('系統已就緒');
    }
});
            </div>

            <h3>API 請求整合</h3>
            <div class="code-example">
async function fetchData() {
    const loader = createClaudeLoader({
        theme: 'matrix',
        messages: [
            "正在連接伺服器...",
            "正在獲取資料...",
            "正在處理回應..."
        ]
    });
    
    try {
        const response = await fetch('/api/data');
        const data = await response.json();
        loader.finish();
        return data;
    } catch (error) {
        loader.hide();
        throw error;
    }
}
            </div>
        </div>

        <!-- 安裝說明 -->
        <div class="advanced-section">
            <h2 class="advanced-title">📦 安裝與使用</h2>
            
            <h3>1. 引入檔案</h3>
            <div class="code-example">
&lt;!-- 引入 CSS 樣式 --&gt;
&lt;link rel="stylesheet" href="components/claude-loader.css"&gt;

&lt;!-- 引入 JavaScript 控制器 --&gt;
&lt;script src="components/claude-loader.js"&gt;&lt;/script&gt;
            </div>
            
            <h3>3. 響應式考量</h3>
            <div class="code-example">
// 檢查裝置類型並調整配置
function getDeviceConfig() {
    const width = window.innerWidth;
    
    if (width <= 480) {
        return {
            theme: 'default',
            duration: 2000,
            particleCount: 8,
            messages: ['載入中...', '即將完成...']
        };
    } else if (width <= 768) {
        return {
            theme: 'dark', 
            duration: 2500,
            particleCount: 12
        };
    } else {
        return {
            theme: 'matrix',
            duration: 3000,
            particleCount: 20
        };
    }
}

// 使用響應式配置
const loader = createClaudeLoader(getDeviceConfig());
            </div>

            <h3>2. 快速開始</h3>
            <div class="code-example">
// 基本使用
const loader = showClaudeLoader({
    theme: 'default',
    duration: 3000
});

// 手動完成
loader.finish();

// 錯誤處理
try {
    const loader = createClaudeLoader({
        theme: 'dark',
        duration: 5000
    });
    
    // 如果載入失敗，立即隱藏
    setTimeout(() => {
        loader.destroy();
    }, 5000);
} catch (error) {
    console.error('載入動畫初始化失敗:', error);
}
            </div>
        </div>
    </div>

    <script src="claude-loader.js"></script>
    <script>
        let currentLoader = null;

        function showMessage(text, type = 'info') {
            const messageEl = document.getElementById('statusMessage');
            messageEl.textContent = text;
            messageEl.className = `status-message status-${type}`;
            messageEl.style.display = 'block';

            setTimeout(() => {
                messageEl.style.display = 'none';
            }, 3000);
        }

        function showDefaultLoader() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'default',
                duration: 3000,
                onComplete: () => {
                    showMessage('預設主題載入完成！', 'success');
                }
            });
        }

        function showDarkLoader() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'dark',
                duration: 3000,
                onComplete: () => {
                    showMessage('深色主題載入完成！', 'success');
                }
            });
        }

        function showMatrixLoader() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'matrix',
                duration: 3000,
                onComplete: () => {
                    showMessage('矩陣主題載入完成！', 'success');
                }
            });
        }

        function showCustomMessages() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'default',
                duration: 4000,
                messages: [
                    "🚀 正在啟動超級系統...",
                    "🤖 AI 大腦正在思考...",
                    "⚡ 量子運算中...",
                    "🌟 魔法正在發生...",
                    "🎉 準備迎接驚喜！"
                ],
                onComplete: () => {
                    showMessage('自定義訊息展示完成！', 'success');
                }
            });
        }

        function showManualControl() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'dark',
                autoHide: false,
                duration: 10000,
                messages: [
                    "手動控制模式啟動...",
                    "正在等待用戶操作...",
                    "即將手動完成..."
                ]
            });

            // 3 秒後手動完成
            setTimeout(() => {
                currentLoader.finish();
                showMessage('手動控制展示完成！', 'success');
            }, 3000);
        }

        function showApiSimulation() {
            if (currentLoader) currentLoader.destroy();
            
            // 模擬 API 請求
            simulateApiCall();
        }

        async function simulateApiCall() {
            const loader = createClaudeLoader({
                theme: 'matrix',
                messages: [
                    "正在連接 API 伺服器...",
                    "正在驗證身份...",
                    "正在獲取用戶資料...",
                    "正在處理回應資料...",
                    "API 請求完成！"
                ]
            });

            // 模擬 API 延遲
            await new Promise(resolve => setTimeout(resolve, 3500));
            
            loader.finish();
            showMessage('API 模擬請求完成！', 'success');
        }

        function showFileUpload() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'default',
                autoHide: false,
                messages: [
                    "正在準備檔案上傳...",
                    "正在上傳檔案...",
                    "正在處理檔案...",
                    "正在儲存到雲端...",
                    "檔案上傳完成！"
                ]
            });

            // 模擬上傳進度
            let progress = 0;
            const uploadInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                
                currentLoader.progressBar.style.width = progress + '%';
                if (currentLoader.percentageElement) {
                    currentLoader.percentageElement.textContent = Math.floor(progress) + '%';
                }
                
                if (progress >= 100) {
                    clearInterval(uploadInterval);
                    setTimeout(() => {
                        currentLoader.finish();
                        showMessage('檔案上傳模擬完成！', 'success');
                    }, 500);
                }
            }, 200);
        }

        // 測試功能
        function testMobileView() {
            if (currentLoader) currentLoader.destroy();
            
            // 模擬手機螢幕寬度
            document.body.style.transform = 'scale(0.4)';
            document.body.style.transformOrigin = 'top left';
            
            currentLoader = createClaudeLoader({
                theme: 'default',
                duration: 2000,
                messages: ['手機模式測試中...', '檢查響應式布局...', '測試完成！'],
                onComplete: () => {
                    document.body.style.transform = '';
                    showMessage('手機檢視測試完成！元件在小螢幕上顯示正常。', 'success');
                }
            });
        }

        function testTabletView() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'dark',
                duration: 2000,
                messages: ['平板模式測試中...', '檢查中等螢幕適配...', '測試完成！'],
                onComplete: () => {
                    showMessage('平板檢視測試完成！', 'success');
                }
            });
        }

        function testDesktopView() {
            if (currentLoader) currentLoader.destroy();
            
            currentLoader = createClaudeLoader({
                theme: 'matrix',
                duration: 2000,
                messages: ['桌面模式測試中...', '檢查大螢幕顯示...', '測試完成！'],
                onComplete: () => {
                    showMessage('桌面檢視測試完成！', 'success');
                }
            });
        }

        function testReducedMotion() {
            if (currentLoader) currentLoader.destroy();
            
            // 臨時添加 reduced motion 類別來模擬無障礙模式
            const testStyle = document.createElement('style');
            testStyle.textContent = `
                .claude-robot { animation: none !important; }
                .claude-thinking-dot { animation: none !important; }
                .claude-code-particle { animation: none !important; opacity: 0.3 !important; }
            `;
            document.head.appendChild(testStyle);
            
            currentLoader = createClaudeLoader({
                theme: 'default',
                duration: 2000,
                messages: ['無障礙模式測試中...', '動畫已減少...', '測試完成！'],
                onComplete: () => {
                    document.head.removeChild(testStyle);
                    showMessage('無障礙模式測試完成！動畫已適當減少。', 'success');
                }
            });
        }

        // 效能監控
        function monitorPerformance() {
            if ('performance' in window) {
                const observer = new PerformanceObserver((list) => {
                    for (const entry of list.getEntries()) {
                        if (entry.entryType === 'measure' && entry.name.includes('claude-loader')) {
                            console.log(`Claude Loader 效能: ${entry.duration}ms`);
                        }
                    }
                });
                observer.observe({entryTypes: ['measure']});
            }
        }

        // 頁面載入完成後顯示歡迎訊息
        window.addEventListener('load', () => {
            showMessage('歡迎使用 Claude Code 載入動畫元件展示頁面！', 'info');
            monitorPerformance();
        });

        // 視窗大小改變時的提示
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                const width = window.innerWidth;
                let deviceType = '';
                if (width <= 480) deviceType = '小型手機';
                else if (width <= 768) deviceType = '大型手機/小型平板';
                else if (width <= 1024) deviceType = '平板';
                else deviceType = '桌面';
                
                console.log(`當前檢視: ${deviceType} (${width}px)`);
            }, 250);
        });
    </script>
</body>
</html>